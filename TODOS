REVERSE PROXY PROJECT - TODO LIST

PHASE 0 — PROJECT SETUP
☐ Create project directory 
☐ Initialize Go module (go mod init)
☐ Define project folder structure
☐ Add config.json for initial backends
☐ Load configuration on startup

PHASE 1 — DATA MODELS
☐ Create Backend struct
☐ Store backend URL
☐ Track Alive status
☐ Track CurrentConnections
☐ Protect fields with sync.RWMutex
☐ Create ServerPool struct
☐ Store slice of backends
☐ Store round-robin index (atomic)
☐ Create ProxyConfig struct

PHASE 2 — LOAD BALANCER INTERFACE
☐ Define LoadBalancer interface
☐ Implement AddBackend
☐ Implement SetBackendStatus
☐ Implement GetNextValidPeer

PHASE 3 — THREAD-SAFE SERVER POOL
☐ Protect backend list with mutex
☐ Implement Round-Robin selection
☐ Skip dead backends
☐ Use atomic counter for index
☐ Handle no-backend-available case
☐ Return proper HTTP error

PHASE 4 — REVERSE PROXY CORE
☐ Create HTTP proxy handler
☐ Accept incoming client requests
☐ Select backend via load balancer
☐ Create httputil.ReverseProxy
☐ Forward request to backend
☐ Return backend response to client
☐ Pass request context
☐ Increment connection count
☐ Decrement connection count

PHASE 5 — ERROR HANDLING
☐ Implement proxy ErrorHandler
☐ Detect backend connection errors
☐ Mark backend as dead
☐ Return 503 Service Unavailable
☐ Log backend failures

PHASE 6 — HEALTH CHECKER
☐ Create background goroutine
☐ Use time.Ticker
☐ Ping backends periodically
☐ Update Alive status
☐ Log UP/DOWN transitions
☐ Stop checker on shutdown

PHASE 7 — ADMIN API
☐ Start admin HTTP server
☐ GET /status endpoint
☐ POST /backends endpoint
☐ DELETE /backends endpoint
☐ Validate JSON and URLs
☐ Protect shared state

PHASE 8 — CONTEXT & TIMEOUTS
☐ Use req.Context()
☐ Cancel backend requests on disconnect
☐ Add request timeout
☐ Add health check timeout

PHASE 9 — GRACEFUL SHUTDOWN
☐ Listen for OS signals
☐ Shutdown proxy server
☐ Shutdown admin server
☐ Stop health checker
☐ Wait for in-flight requests

PHASE 10 — TESTING
☐ Create dummy backends
☐ Test Round-Robin
☐ Test backend failure
☐ Test health recovery
☐ Test admin API
☐ Run with -race flag

PHASE 11 — DOCUMENTATION
☐ Clean code formatting
☐ Add comments
☐ Write README
☐ Explain architecture
☐ Explain how to run project
